"use strict";var app=function(){var a={apiData:{},templates:["body","header","lang_icon","main_content","footer","changelog","treeview_root","treeview_children","treeview_leaf","member_root","member_description","enum","function","overload","variable","versionInfo","additionalinfo"],init:function(){a.doFetches()},doFetches:function(){$(document).ready(function(){$.ajaxPrefilter("html",function(a){a.crossDomain=!0}),Handlebars.partials=Handlebars.templates;var b=a.fetchResources();b=b.concat(a.fetchTemplates()),b.length?Promise.all(b).then(function(){a.postInit()}):a.postInit()})},fetchResources:function(){var b=["helpsys","drawer","changelog","snippets","version","explainers"],c=[];for(var d in b){var e=b[d];c.push(fetch("data/"+e+".json?"+Date.now()).then(function(b){var c=a.getFileName(b);return b.json().then(function(b){a.apiData[c]=b})}).catch(function(){a.apiData.version={vcsversion:"DEV",version:"DEV",date:new Date().toDateString()}}))}return c},getFileName:function(a){var b=a.url.lastIndexOf("/")+1,c=a.url.lastIndexOf("."),d=a.url.substring(b,c);return d},fetchTemplates:function(){var b=[];if(!window.Handlebars)throw new Error("Cannot compile template - Handlebars has not been loaded.");else for(var c in Handlebars.compiledTemplates=$.extend({},Handlebars.templates),Handlebars.partials=$.extend({},Handlebars.templates),a.templates){var d=a.templates[c],e=$("#t_"+d);e[0]?a.compileAndStore(d,e.html()):Handlebars.templates&&Handlebars.templates[d]||b.push(fetch("templates/"+d+".handlebars?"+Date.now()).then(function(b){var c=b.url.lastIndexOf("/")+1,d=b.url.lastIndexOf("."),e=b.url.substring(c,d);return b.text().then(function(b){return a.compileAndStore(e,b)})}))}return b},compileAndStore:function(a,b){var c=Handlebars.compile(b,{preventIndent:!0});return Handlebars.partials[a]=c,Handlebars.compiledTemplates[a]=c,a},postInit:function(){app.state.init(),app.data.init(),$(document).ready(a.load),$(document).trigger("appInit")},load:function(){app.state.load()},render:function(a,b,c){var d=$(a);if(d[0]){var e="",f=Handlebars.compiledTemplates[b];if(f)try{e=f(c,{preventIndent:!0})}catch(a){console.error(a),e="<div class='refPage'><h1>Error: "+a.message+"</h1><pre>"+a.stack+"</pre></div>"}else e="Could not render unknown template named: "+b;d.html(e)}else console.error("ERROR: Could not find element to render into named: "+a)}};return{init:a.init,onLoad:a.onLoad,render:a.render,apiData:a.apiData}}();
//# sourceMappingURL=app.js.map