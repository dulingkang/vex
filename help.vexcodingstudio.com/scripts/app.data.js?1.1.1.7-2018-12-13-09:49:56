"use strict";app&&(app.data=function(){let a={detailsData:{},languages:[{id:"block",display:"Modkit"},{id:"cpp",display:"VEX C++"},{id:"pro",display:"C++ Pro"}],languageList:["block","cpp","pro"],init:function(){console.time("initdata");var b=a.combineRawData(app.apiData.helpsys,app.apiData.drawer);a.snippets=app.apiData.snippets,a.explainers=app.apiData.explainers,a.detailsData=a.extractDataDetails(b),a.changelog=a.processChangeLog(app.apiData.changelog),console.timeEnd("initdata")},safeGetPathOrNull:function(a,b){return b.reduce(function(a,b){return a&&a[b]?a[b]:null},a)},getAddOnContent:function(b,c,d,e){let f=d.def?d.def.replace(/^.*vex::/g,""):d.name;return a.safeGetPathOrNull(a,[b,c,(f||"")+(e||"variable")])},getBlockImageUrl:function(a,b){var c=a.def.replace(/^.*vex::/g,"").replace(/::/g,"/"),d=b?app.util.getImageName(b.argsstring):"variable";return"images/blocks/"+c+"/"+d+".png"},findMemberDetails:function(b,c){if("changelog"==b)return{changes:a.getChangeLog(c)};var d=$.extend(!0,{},a.detailsData[b]);return d.overloads&&(d.overloads=d.overloads.filter(function(b){return a.supportsLang(b.apilevel,c)})),"block"==c&&(d.overloads?d.overloads.forEach(function(b){b.image=a.getBlockImageUrl(d,b)}):"variable"==d.kind&&(d.blockimage=a.getBlockImageUrl(d,null))),d},getTemplateData:function(){console.time("getTemplateData");var b=app.state.getLang(),c=a.getDataTree(b),d=a.getLangName(b),e={lang:b,langDisplayName:d,tree:c,details:a.detailsData,languages:a.languages};return console.timeEnd("getTemplateData"),e},getLangName:function(b){let c=a.languages.reduce(function(a,c){return a+(b==c.id?c.display:"")},"");return c},findMemberDrawerDataWithoutLang:function(a,b,c){return a.drawer.filter(function(a){return a.definition==b&&a.argsstring==c})},combineRawData:function(b,c){var d=jQuery.extend(!0,{},b);for(var e in delete d.Namespaces.std,d.Namespaces)if(d.Namespaces.hasOwnProperty(e)){var f=d.Namespaces[e].Classes;for(var g in f){var h=f[g],i=h.members;for(var j in i){var k=i[j];if(k.overloads){var l=k.def;k.overloads.forEach(function(b){b.drawer=a.findMemberDrawerDataWithoutLang(c,l,b.argsstring)[0],b.params.forEach(function(a,c,d){if(b.drawer&&b.drawer.params){var e=b.drawer.params[c];a.type&&"..."==a.type&&(d[c].desc=e.description),""==a.type&&e.type&&(d[c].type=e.type)}})})}}}}return d},getSortedOverloads:function(a){var b=[],c=[];a.forEach(function(a){-1<a.apilevel.indexOf("block")?b.push(a):c.push(a)}),c.sort(function(c,a){return c.argsstring.length-a.argsstring.length});var d=Array.from(b);return c.forEach(function(a){d.push(a)}),d},extractDataDetails:function(b){var c={};for(var d in b.Namespaces){var e=b.Namespaces[d],f=e.id;for(var g in e.members){var h=e.members[g],i=f+"/"+h.name,j={name:h.name,kind:h.kind,desc:h.desc,drawercat:h.drawercat,langs:h.apilevel,def:h.def,namespace:e.name};h.enumvalue&&(j.enumvalues=h.enumvalue),h.overloads&&(j.overloads=h.overloads),c[i]=j}for(var k in e.Classes){var l=e.Classes[k],m=f+"/"+l.id;for(var n in l.members){var h=l.members[n],i=m+"/"+h.name,j={name:h.name,classname:l.name,kind:h.kind,returnType:h.type[0],specialKind:h.specialKind,desc:h.desc,drawercat:h.drawercat,langs:h.apilevel,def:h.def};h.enumvalue&&(j.enumvalues=h.enumvalue),h.overloads&&(j.overloads=a.getSortedOverloads(h.overloads),j.overloads.forEach(function(a){a.params=Array.from(a.params),a.params=a.params.filter(function(a){return"void"!=a.type||a.declname})})),c[i]=j}}}for(var o in c){var p=c[o];if(p.langs&&0==p.langs.length&&(console.log("found empty langs"),p.langs=["pro"]),p.overloads)for(var q in p.overloads){var r=a.extendForAddOnContent(p.overloads[q]);for(var s in r.apilevel){var t=r.apilevel[s];a.populateAddOnContent(p,r,t,r.argsstring)}}else if(p.enumvalues)for(var s in p=a.extendForAddOnContent(p),p.langs){var t=p.langs[s];a.populateAddOnContent(p,p,t,"_enum")}else for(var s in p=a.extendForAddOnContent(p),p.langs){var t=p.langs[s];a.populateAddOnContent(p,p,t,"variable")}}return c},extendForAddOnContent:function(a){return a.robotConfigs={},a.snippets={},a.explainers={},a},populateAddOnContent:function(b,c,d,e){var f=a.getAddOnContent("snippets",d,b,e);f&&(c.robotConfigs[d]=f.config,c.snippets[d]=f.code),c.explainers[d]=a.getAddOnContent("explainers",d,b,e)},filterDetailsByLang:function(b){var c=jQuery.extend(!0,{},a.detailsData);for(var d in c){var e=c[d];e.langs&&a.supportsLang(e.langs,b)?e.overloads&&(e.overloads=e.overloads.filter(function(c){return a.supportsLang(c.apilevel,b)})):delete c[d]}return jQuery.extend(!0,{},c)},supportsLang:function(a,b){return-1<a.indexOf(b)},cppConfig:{include:{classes:["AnalogIn","Brain","Bumper","Competition","Controller","DigitalIn","DigitalOut","Encoder","Gyro","Light","Limit","Line","Motor","Pot","PwmOut","Sonar","Vision"],categories:["sensing","action","setting"]},replace:{group:{Pot:"Potentiometer",PwmOut:"PWMOut"},names:[{find:/Brain\.Lcd/g,replaceWith:"Brain.Screen"},{find:/Controller\.Lcd/g,replaceWith:"Controller.Screen"},{find:/Pwn_out/g,replaceWith:"PWM"}]}},blockConfig:{include:{classes:["Brain","Bumper","Controller","Motor","Vision","Accelerometer","Gyro","Pot","Sonar","Encoder"],categories:["sensing","action","setting"]},replace:{group:{Pot:"Potentiometer"},names:[{find:/Brain\.Lcd/g,replaceWith:"Brain.Screen"},{find:/Controller\.Lcd/g,replaceWith:"Controller.Screen"}]}},getRawDataTree:function(b){var c=String.prototype,d=a.filterDetailsByLang(b);c.toClassCamelCase||(c.toClassCamelCase=function(){return this.valueOf().replace(/\s(.)/g,function(a){return a.toUpperCase()}).replace(/\s/g,"").replace(/^(.)/,function(a){return a.toUpperCase()})});var e,f=function(a){var b=a.classname.replace(/::(.)/g,function(a){return a.toUpperCase()}).replace(/::/g,".").replace(/^(.)/,function(a){return a.toUpperCase()}).replace(/Vex./,"");return b+"."+a.name},g=function(a){var b={};for(var c in a){var d=a[c],e=c.split("/"),f=e[0],g=f.substring(9);g=g.replace(/_1/g,":").replace(/__/g,"_"),f in b||(b[f]={name:g,id:f,children:{members:{name:"Members",id:"pro/"+f+"/Members",children:{}},Classes:{name:"Classes",id:"pro/"+f+"/Classes",children:{}}}});var h=b[f];if(2==e.length){var i=e[1],j=h.children.members.children;i in h.children.members||(j[i]={name:d.name,id:"pro/"+c})}else{var k=e[1],l=h.children.Classes.children;k in l||(l[k]={name:d.classname,id:"pro/"+f+"/"+k,children:{}});var m=l[k],i=e[2];i in m.children||(m.children[i]={name:d.name,id:"pro/"+c})}}return b},h=function(b,c,d,e){var g={};for(var h in console.log(c),b){var i=b[h],j=h.split("/"),k=j[0];if(3==j.length){var l=j[1],m=j[2],n=l.split("_1_1")[1].replace(/__/g," "),o=n.toClassCamelCase();if(o=o.replace(/ /g,"_"),-1==c.include.classes.indexOf(o))continue;-1<Object.keys(c.replace.group).indexOf(o)&&(o=c.replace.group[o]);var p="group/"+o;o in g||(g[o]={name:o,id:d+"/"+p,children:{}});var q=g[o],r=i.drawercat,s="9";if("setting"==r?s="0":"action"==r?s="1":"sensing"==r&&(s="2"),-1==c.include.categories.indexOf(r))continue;var t=s+r;t in q.children||(q.children[t]={name:r,id:d+"/"+(p+"/"+r),children:{}});var u=q.children[t];if(!(m in u.children)){var v=f(i);if(c.replace.names.forEach(function(a){v=v.replace(a.find,a.replaceWith)}),u.children[m]={name:v,id:d+"/"+h},e){let b=i.overloads?i.overloads[0]:null;u.children[m].image=a.getBlockImageUrl(i,b)}}}else continue}return g};return"cpp"==b?e=h(d,a.cppConfig,b,!1):"block"==b?(delete d["namespacevex/classvex_1_1brain/timer"],delete d["namespacevex/classvex_1_1brain_1_1battery/capacity"],delete d["namespacevex/classvex_1_1brain_1_1battery/temperature"],delete d["namespacevex/classvex_1_1controller/rumble"],delete d["namespacevex/classvex_1_1vision_1_1object/originX"],delete d["namespacevex/classvex_1_1vision_1_1object/originY"],e=h(d,a.blockConfig,b,!0)):e=g(d),e},getDataTree:function(b){var c=a.getRawDataTree(b),d=function(a){var b=[];for(var c in a){var e=jQuery.extend(!0,{},a[c]);(e.children&&(e.children=d(e.children)),!(e.children&&0==e.children.length))&&b.push(e)}return b};return d(c)},processChangeLog:function(b){function c(b,c){function d(c,a){return c.name.localeCompare(a.name)}var e={added:[],removed:[]};return b.added.forEach(function(b){var d=b.split("(");1==d.length&&(d=b.split("."));var f=d[0],g=a.detailsData[f],h="";if("variable"==g.kind)h=g.classname+"."+g.name;else if("enum"==g.kind)var h=g.namespace+"::"+g.name+"::"+d[1];else var i=b.indexOf("("),j=b.substring(i),k="constructor"==g.drawercat?"::":".",h=g.classname+k+g.name+j;e.added.push({name:h,id:c+"/"+f,elem:g})}),b.removed.forEach(function(a){if(a.includes("(")){var b=a.split("("),c="constructor"==elem.drawercat?"::":".",d=elem.classname+c+elem.name+"("+b[1];e.removed.push({name:d})}else{var b=a.split("."),d=elem.namespace+"::"+elem.name+"::"+b[1];e.removed.push({name:d})}}),e.added.sort(d),e.removed.sort(d),e}var d=jQuery.extend(!0,{},b),e=[];return d.changes.forEach(function(a){var b={version:a.version,pro:c(a.pro,"pro"),cpp:c(a.cpp,"cpp"),block:c(a.block,"block")};e.push(b)}),e},getChangeLog:function(b){var c=[];return a.changelog.forEach(function(a){c.push({version:a.version,added:a[b].added,removed:a[b].removed})}),c}};return{init:a.init,languageList:a.languageList,getTemplateData:a.getTemplateData,findMemberDetails:a.findMemberDetails,getLangName:a.getLangName,getSnippet:a.getSnippet}}());
//# sourceMappingURL=app.data.js.map